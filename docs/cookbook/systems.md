# Systems

You can execute behavior on a query to form a system in the traditional ECS sense. You have three main ways to do this: delegates, structs, and enumerators. Each method has their own upsides and downsides.

<iframe src="https://itsbuggingme.github.io/InteractiveDocHosting/?code=using%20World%20world%20%3D%20new%28%29%3B%0Aworld.Create%28%22Jill%22%29%3B%0Aworld.Create%28%22Jack%22%29%3B%0A%0Aworld.Query%3Cstring%3E%28%29.Delegate%28%28ref%20string%20comp%29%20%3D%3E%20Console.WriteLine%28comp%20%2B%20%22%20delegate%22%29%29%3B%0A%0Aworld.Query%3Cstring%3E%28%29.Inline%3CInline%2C%20string%3E%28default%28Inline%29%29%3B%0A%0A%2F%2F%20You%20can%20also%20deconstruct%20a%20RefTuple%20if%20it%20has%20more%20than%201%20component%0Aforeach%28RefTuple%3Cstring%3E%20comp%20in%20world.Query%3Cstring%3E%28%29.Enumerate%3Cstring%3E%28%29%29%0A%20%20%20%20Console.WriteLine%28comp.Item1.Value%20%2B%20%22%20Enumerator%22%29%3B%0A%0Astruct%20Inline%20%3A%20IAction%3Cstring%3E%0A%7B%0A%20%20%20%20public%20void%20Run%28ref%20string%20comp%29%20%3D%3E%20Console.WriteLine%28comp%20%2B%20%22%20Inline%22%29%3B%0A%7D&spans=5%7Ckeyword%7C1%7Cwhitespace%7C5%7Cclass-name%7C1%7Cwhitespace%7C5%7Clocal-name%7C1%7Cwhitespace%7C1%7Coperator%7C1%7Cwhitespace%7C3%7Ckeyword%7C1%7Cpunctuation%7C1%7Cpunctuation%7C1%7Cpunctuation%7C1%7Cwhitespace%7C5%7Clocal-name%7C1%7Coperator%7C6%7Cmethod-name%7C1%7Cpunctuation%7C6%7Cstring%7C1%7Cpunctuation%7C1%7Cpunctuation%7C1%7Cwhitespace%7C5%7Clocal-name%7C1%7Coperator%7C6%7Cmethod-name%7C1%7Cpunctuation%7C6%7Cstring%7C1%7Cpunctuation%7C1%7Cpunctuation%7C2%7Cwhitespace%7C5%7Clocal-name%7C1%7Coperator%7C5%7Cextension-method-name%7C1%7Cpunctuation%7C6%7Ckeyword%7C1%7Cpunctuation%7C1%7Cpunctuation%7C1%7Cpunctuation%7C1%7Coperator%7C8%7Cextension-method-name%7C1%7Cpunctuation%7C1%7Cpunctuation%7C3%7Ckeyword%7C1%7Cwhitespace%7C6%7Ckeyword%7C1%7Cwhitespace%7C4%7Cparameter-name%7C1%7Cpunctuation%7C1%7Cwhitespace%7C2%7Coperator%7C1%7Cwhitespace%7C7%7Cclass-name%7C1%7Coperator%7C9%7Cmethod-name%7C1%7Cpunctuation%7C4%7Cparameter-name%7C1%7Cwhitespace%7C1%7Coperator%7C1%7Cwhitespace%7C11%7Cstring%7C1%7Cpunctuation%7C1%7Cpunctuation%7C1%7Cpunctuation%7C2%7Cwhitespace%7C5%7Clocal-name%7C1%7Coperator%7C5%7Cextension-method-name%7C1%7Cpunctuation%7C6%7Ckeyword%7C1%7Cpunctuation%7C1%7Cpunctuation%7C1%7Cpunctuation%7C1%7Coperator%7C6%7Cextension-method-name%7C1%7Cpunctuation%7C6%7Cstruct-name%7C1%7Cpunctuation%7C1%7Cwhitespace%7C6%7Ckeyword%7C1%7Cpunctuation%7C1%7Cpunctuation%7C7%7Ckeyword%7C1%7Cpunctuation%7C6%7Cstruct-name%7C1%7Cpunctuation%7C1%7Cpunctuation%7C1%7Cpunctuation%7C2%7Cwhitespace%7C70%7Ccomment%7C1%7Cwhitespace%7C7%7Ckeyword---control%7C1%7Cpunctuation%7C8%7Cstruct-name%7C1%7Cpunctuation%7C6%7Ckeyword%7C1%7Cpunctuation%7C1%7Cwhitespace%7C4%7Clocal-name%7C1%7Cwhitespace%7C2%7Ckeyword---control%7C1%7Cwhitespace%7C5%7Clocal-name%7C1%7Coperator%7C5%7Cextension-method-name%7C1%7Cpunctuation%7C6%7Ckeyword%7C1%7Cpunctuation%7C1%7Cpunctuation%7C1%7Cpunctuation%7C1%7Coperator%7C9%7Cmethod-name%7C1%7Cpunctuation%7C6%7Ckeyword%7C1%7Cpunctuation%7C1%7Cpunctuation%7C1%7Cpunctuation%7C1%7Cpunctuation%7C5%7Cwhitespace%7C7%7Cclass-name%7C1%7Coperator%7C9%7Cmethod-name%7C1%7Cpunctuation%7C4%7Clocal-name%7C1%7Coperator%7C5%7Cfield-name%7C1%7Coperator%7C5%7Cproperty-name%7C1%7Cwhitespace%7C1%7Coperator%7C1%7Cwhitespace%7C13%7Cstring%7C1%7Cpunctuation%7C1%7Cpunctuation%7C2%7Cwhitespace%7C6%7Ckeyword%7C1%7Cwhitespace%7C6%7Cstruct-name%7C1%7Cwhitespace%7C1%7Cpunctuation%7C1%7Cwhitespace%7C7%7Cinterface-name%7C1%7Cpunctuation%7C6%7Ckeyword%7C1%7Cpunctuation%7C1%7Cwhitespace%7C1%7Cpunctuation%7C5%7Cwhitespace%7C6%7Ckeyword%7C1%7Cwhitespace%7C4%7Ckeyword%7C1%7Cwhitespace%7C3%7Cmethod-name%7C1%7Cpunctuation%7C3%7Ckeyword%7C1%7Cwhitespace%7C6%7Ckeyword%7C1%7Cwhitespace%7C4%7Cparameter-name%7C1%7Cpunctuation%7C1%7Cwhitespace%7C2%7Coperator%7C1%7Cwhitespace%7C7%7Cclass-name%7C1%7Coperator%7C9%7Cmethod-name%7C1%7Cpunctuation%7C4%7Cparameter-name%7C1%7Cwhitespace%7C1%7Coperator%7C1%7Cwhitespace%7C9%7Cstring%7C1%7Cpunctuation%7C1%7Cpunctuation%7C1%7Cwhitespace%7C1%7Cpunctuation&output=Jill%20delegate%0AJack%20delegate%0AJill%20Inline%0AJack%20Inline%0AJill%20Enumerator%0AJack%20Enumerator%0A" onload='javascript:(function(o){window.addEventListener("message", function(event){if(event.data.type=="setHeight"){o.style.height=event.data.height+"px";}});}(this));' style="height:200px;width:100%;border:none;overflow:hidden;"></iframe>

| Method       | Pros                                               | Cons                                               |
|--------------|----------------------------------------------------|----------------------------------------------------|
| Delegates    | - Easy to write                                    | - A bit slower (almost identical perf dotnet 9+)<br/> - Need to allocate closure for outside variables. |
| Structs      | - Struct methods can be inlined for performance. <br/> - Struct itself can store variables. | - Verbose syntax <br/> - Need to declare all generic types when calling. |
| Enumerators  | - Get access to all variables in scope <br/> - Use raw chunk buffers with `.EnumerateChunks` | - Verbose to access components                |
